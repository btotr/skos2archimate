# baseURI: http://archimate.politie.nl/skos2archimate
# imports: http://definities.politie.nl/iv
# imports: http://spinrdf.org/spin
# imports: http://www.opengroup.org/xsd/archimate/3.0/
# imports: http://www.w3.org/XML/1998/namespace
# prefix: s2a

@prefix : <http://archimate.politie.nl/skos2archimate#> .
@prefix owl: <http://www.w3.org/2002/07/owl#> .
@prefix rdf: <http://www.w3.org/1999/02/22-rdf-syntax-ns#> .
@prefix rdfs: <http://www.w3.org/2000/01/rdf-schema#> .
@prefix s2a: <http://archimate.politie.nl/skos2archimate#> .
@prefix sp: <http://spinrdf.org/sp#> .
@prefix spin: <http://spinrdf.org/spin#> .
@prefix sxml: <http://topbraid.org/sxml#> .
@prefix xsd: <http://www.w3.org/2001/XMLSchema#> .
@prefix xsi: <http://www.w3.org/2001/XMLSchema-instance#> .

<http://archimate.politie.nl/skos2archimate>
  a owl:Ontology ;
  owl:imports <http://definities.politie.nl/iv> ;
  owl:imports <http://spinrdf.org/spin> ;
  owl:imports <http://www.opengroup.org/xsd/archimate/3.0/> ;
  owl:imports <http://www.w3.org/XML/1998/namespace> ;
.
<http://www.opengroup.org/xsd/archimate/3.0/Model>
  sxml:prefix "archimate" ;
.
xsi:schemaLocation
  a owl:DatatypeProperty ;
  sxml:attribute "xsi:schemaLocation" ;
  rdfs:label "xsi:schemaLocation" ;
.
xsi:type
  a owl:DatatypeProperty ;
  sxml:attribute "xsi:type" ;
  rdfs:label "xsi:type" ;
.
<http://www.w3.org/2004/02/skos/core#Concept>
  spin:rule [
      a sp:Construct ;
      sp:templates (
          [
            sp:object <http://www.opengroup.org/xsd/archimate/3.0/Model> ;
            sp:predicate rdf:type ;
            sp:subject <http://archimate.politie.nl/skos2archimate/model> ;
          ]
          [
            sp:object "http://www.opengroup.org/xsd/archimate/3.0/" ;
            sp:predicate xsi:schemaLocation ;
            sp:subject <http://archimate.politie.nl/skos2archimate/model> ;
          ]
          [
            sp:object <http://www.opengroup.org/xsd/archimate/3.0/nameRef> ;
            sp:predicate rdf:type ;
            sp:subject <http://archimate.politie.nl/skos2archimate/model-name> ;
          ]
          [
            sp:object "informatieobjectenmodel" ;
            sp:predicate <http://www.linkedmodel.org/schema/dtype#value> ;
            sp:subject <http://archimate.politie.nl/skos2archimate/model-name> ;
          ]
          [
            sp:object <http://archimate.politie.nl/skos2archimate/model-name> ;
            sp:predicate <http://www.opengroup.org/xsd/archimate/3.0/nameRef> ;
            sp:subject <http://archimate.politie.nl/skos2archimate/model> ;
          ]
          [
            sp:object "id-f9013866-8b94-44a1-a570-7b14982366a0" ;
            sp:predicate <http://www.opengroup.org/xsd/archimate/3.0/identifier> ;
            sp:subject <http://archimate.politie.nl/skos2archimate/model> ;
          ]
          [
            sp:object <http://www.opengroup.org/xsd/archimate/3.0/ElementsType> ;
            sp:predicate rdf:type ;
            sp:subject <http://archimate.politie.nl/skos2archimate/elements> ;
          ]
          [
            sp:object <http://archimate.politie.nl/skos2archimate/elements> ;
            sp:predicate <http://www.opengroup.org/xsd/archimate/3.0/elementsRef> ;
            sp:subject <http://archimate.politie.nl/skos2archimate/model> ;
          ]
          [
            sp:object <http://www.opengroup.org/xsd/archimate/3.0/BusinessObject> ;
            sp:predicate rdf:type ;
            sp:subject [
                sp:varName "businessObject" ;
              ] ;
          ]
          [
            sp:object [
                sp:varName "businessObject" ;
              ] ;
            sp:predicate <http://www.opengroup.org/xsd/archimate/3.0/elementRef> ;
            sp:subject <http://archimate.politie.nl/skos2archimate/elements> ;
          ]
          [
            sp:object [
                sp:varName "name" ;
              ] ;
            sp:predicate <http://www.opengroup.org/xsd/archimate/3.0/nameRef> ;
            sp:subject [
                sp:varName "businessObject" ;
              ] ;
          ]
          [
            sp:object [
                sp:varName "definition" ;
              ] ;
            sp:predicate <http://www.opengroup.org/xsd/archimate/3.0/documentationRef> ;
            sp:subject [
                sp:varName "businessObject" ;
              ] ;
          ]
          [
            sp:object [
                sp:varName "cname" ;
              ] ;
            sp:predicate <http://www.opengroup.org/xsd/archimate/3.0/identifier> ;
            sp:subject [
                sp:varName "businessObject" ;
              ] ;
          ]
          [
            sp:object "BusinessObject" ;
            sp:predicate xsi:type ;
            sp:subject [
                sp:varName "businessObject" ;
              ] ;
          ]
          [
            sp:object <http://www.opengroup.org/xsd/archimate/3.0/documentationRef> ;
            sp:predicate rdf:type ;
            sp:subject [
                sp:varName "definition" ;
              ] ;
          ]
          [
            sp:object [
                sp:varName "definitionText" ;
              ] ;
            sp:predicate <http://www.linkedmodel.org/schema/dtype#value> ;
            sp:subject [
                sp:varName "definition" ;
              ] ;
          ]
          [
            sp:object 2 ;
            sp:predicate sxml:order ;
            sp:subject [
                sp:varName "definition" ;
              ] ;
          ]
          [
            sp:object <http://www.opengroup.org/xsd/archimate/3.0/nameRef> ;
            sp:predicate rdf:type ;
            sp:subject [
                sp:varName "name" ;
              ] ;
          ]
          [
            sp:object [
                sp:varName "labelSpecialisatie" ;
              ] ;
            sp:predicate <http://www.linkedmodel.org/schema/dtype#value> ;
            sp:subject [
                sp:varName "name" ;
              ] ;
          ]
          [
            sp:object 1 ;
            sp:predicate sxml:order ;
            sp:subject [
                sp:varName "name" ;
              ] ;
          ]
        ) ;
      sp:where (
          [
            sp:object "Dossier"@nl ;
            sp:predicate <http://www.w3.org/2004/02/skos/core#prefLabel> ;
            sp:subject spin:_this ;
          ]
          [
            sp:object spin:_this ;
            sp:predicate <http://www.w3.org/2004/02/skos/core#broader> ;
            sp:subject [
                sp:varName "specialisatie" ;
              ] ;
          ]
          [
            a sp:NotExists ;
            sp:elements (
                [
                  sp:object <http://definities.politie.nl/im/id/begrip/Relatie> ;
                  sp:predicate <http://www.w3.org/2004/02/skos/core#broader> ;
                  sp:subject [
                      sp:varName "specialisatie" ;
                    ] ;
                ]
              ) ;
          ]
          [
            sp:object [
                sp:varName "labelSpecialisatie" ;
              ] ;
            sp:predicate <http://www.w3.org/2004/02/skos/core#prefLabel> ;
            sp:subject [
                sp:varName "specialisatie" ;
              ] ;
          ]
          [
            a sp:Optional ;
            sp:elements (
                [
                  sp:object [
                      sp:varName "definitionText" ;
                    ] ;
                  sp:predicate <http://www.w3.org/2004/02/skos/core#definition> ;
                  sp:subject [
                      sp:varName "specialisatie" ;
                    ] ;
                ]
              ) ;
          ]
          [
            a sp:Bind ;
            sp:expression [
                a sp:encode_for_uri ;
                sp:arg1 [
                    sp:varName "labelSpecialisatie" ;
                  ] ;
              ] ;
            sp:variable [
                sp:varName "id" ;
              ] ;
          ]
          [
            a sp:Bind ;
            sp:expression [
                a sp:concat ;
                sp:arg1 "id-" ;
                sp:arg2 [
                    a sp:str ;
                    sp:arg1 [
                        a sp:floor ;
                        sp:arg1 [
                            a sp:mul ;
                            sp:arg1 [
                                a sp:rand ;
                              ] ;
                            sp:arg2 100000 ;
                          ] ;
                      ] ;
                  ] ;
              ] ;
            sp:variable [
                sp:varName "cname" ;
              ] ;
          ]
          [
            a sp:Bind ;
            sp:expression [
                a sp:iri ;
                sp:arg1 [
                    a sp:concat ;
                    sp:arg1 "http://archimate.politie.nl/naam/" ;
                    sp:arg2 [
                        sp:varName "id" ;
                      ] ;
                  ] ;
              ] ;
            sp:variable [
                sp:varName "name" ;
              ] ;
          ]
          [
            a sp:Bind ;
            sp:expression [
                a sp:iri ;
                sp:arg1 [
                    a sp:concat ;
                    sp:arg1 "http://archimate.politie.nl/definitie/" ;
                    sp:arg2 [
                        sp:varName "id" ;
                      ] ;
                  ] ;
              ] ;
            sp:variable [
                sp:varName "definition" ;
              ] ;
          ]
          [
            a sp:Bind ;
            sp:expression [
                a sp:concat ;
                sp:arg1 "http://archimate.politie.nl/businessObject/" ;
                sp:arg2 [
                    sp:varName "id" ;
                  ] ;
              ] ;
            sp:variable [
                sp:varName "businessObjectId" ;
              ] ;
          ]
          [
            a sp:Bind ;
            sp:expression [
                a sp:iri ;
                sp:arg1 [
                    sp:varName "businessObjectId" ;
                  ] ;
              ] ;
            sp:variable [
                sp:varName "businessObject" ;
              ] ;
          ]
        ) ;
    ] ;
.
